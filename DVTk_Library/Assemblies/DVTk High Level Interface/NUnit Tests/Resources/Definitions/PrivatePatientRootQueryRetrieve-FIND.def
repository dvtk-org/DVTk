#
#Generated by odd2def on: Wed Jan 11 11:42:52 2006#
#

DEFINE SYSTEM "DICOM" "3.0"
"DICOM" "3.0"
ENDDEFINE


#
# Definition of the Private Patient Root Query/Retrieve Information Model - FIND SOP Class
#
DEFINE C-FIND-RQ "Private Patient Root Query/Retrieve - FIND"

SOPCLASS "1.3.46.670589.17.2.42.7" "Private Patient Root Query/Retrieve Information Model - FIND SOP Class"

MODULE "Patient Root Information Model" M
(0x00080052,1,CS,1,E,"IMAGE"
                   | "PATIENT"
                   | "SERIES"
                   | "STUDY")                       "Query/Retrieve Level"
(0x00080005,1C,CS,1:n)                              "Specific Character Set"         : "Required if extended character set is used."

MODULE "Test Module DA" C
(0x10080001,1,DA,1)	"DA_01"
(0x10080002,2,DA,1)	"DA_02"
(0x10080003,3,DA,1:n)	"DA_03"
(0x10080004,3,DA,1:n)	"DA_04"

MODULE "Test Module DT" C
(0x100C0001,1,DT,1)	"DT_01"
(0x100C0002,2,DT,1)	"DT_02"
(0x100C0003,3,DT,1:n)	"DT_03"
(0x100C0004,3,DT,1:n)	"DT_04"
(0x100C0005,3,DT,1:n)	"DT_05"
(0x100C0006,3,DT,1:n)	"DT_06"

MODULE "Test Module TM" C
(0x10280001,1,TM,1)	"TM_01"
(0x10280002,2,TM,1)	"TM_02"
(0x10280003,3,TM,1:n)	"TM_03"
(0x10280004,3,TM,1:n)	"TM_04"
(0x10280005,3,TM,1:n)	"TM_05"


#INCLUDEMACRO                                        "Q/R Patient level Patient Root Q/R Information Model - FIND SOP Class SCU" : VALUE 0x00080052="PATIENT"
#INCLUDEMACRO                                        "Q/R Image level Patient Root Q/R Information Model - FIND SOP Class SCU" : VALUE 0x00080052="IMAGE"
#INCLUDEMACRO                                        "Q/R Study level (Patient Root) Patient Root Q/R Information Model - FIND SOP Class SCU" : VALUE 0x00080052="STUDY"
#INCLUDEMACRO                                        "Q/R Series level Patient Root Q/R Information Model - FIND SOP Class SCU" : VALUE 0x00080052="SERIES"
ENDDEFINE

#
# Definition of the Patient Root Query/Retrieve Information Model - FIND SOP Class
#
DEFINE C-FIND-RSP "Private Patient Root Query/Retrieve - FIND"

SOPCLASS "1.3.46.670589.17.2.42.7" "Private Patient Root Query/Retrieve Information Model - FIND SOP Class"

MODULE "Patient Root Information Model" M
(0x00080052,1,CS,1,E,"IMAGE"
                   | "PATIENT"
                   | "SERIES"
                   | "STUDY")                       "Query/Retrieve Level"
(0x00080005,1C,CS,1:n)                              "Specific Character Set"         : "Required if extended character set is used."
(0x00080054,1C,AE,1:n)                              "Retrieve AE Title"              : NOT PRESENT 0x00880130 AND NOT PRESENT 0x00880140
(0x00880130,1C,SH,1)                                "Storage Media File-Set ID"      : NOT PRESENT 0x00080054
(0x00880140,1C,UI,1)                                "Storage Media File-Set UID"     : NOT PRESENT 0x00080054
(0x00080056,3,CS,1,E,"NEARLINE"
                   | "OFFLINE"
                   | "ONLINE")                      "Instance Availability"
INCLUDEMACRO                                        "Q/R Patient level Patient Root Q/R Information Model - FIND SOP Class SCP" : VALUE 0x00080052="PATIENT"
INCLUDEMACRO                                        "Q/R Image level Patient Root Q/R Information Model - FIND SOP Class SCP" : VALUE 0x00080052="IMAGE"
INCLUDEMACRO                                        "Q/R Study level (Patient Root) Patient Root Q/R Information Model - FIND SOP Class SCP" : VALUE 0x00080052="STUDY"
INCLUDEMACRO                                        "Q/R Series level Patient Root Q/R Information Model - FIND SOP Class SCP" : VALUE 0x00080052="SERIES"
ENDDEFINE


################################################################################
# MACRO DEFINITIONS
################################################################################


DEFINE MACRO "Q/R Series level Patient Root Q/R Information Model - FIND SOP Class SCP"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x0020000E,1,UI,1)                                 "Series Instance UID"
(0x00080060,2C,CS,1)                                "Modality"                       : "Required matching key, present in response when requested."
(0x00200011,2C,IS,1)                                "Series Number"                  : "Required matching key, present in response when requested."
(0x00201209,3C,IS,1)                                "Number of Series Related Instances" : "Only present in SCP response when requested."
ENDDEFINE

DEFINE MACRO "Q/R Study level (Patient Root) Patient Root Q/R Information Model - FIND SOP Class SCP"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x00080020,2C,DA,1)                                "Study Date"                     : "Required matching key, present in response when requested."
(0x00080030,2C,TM,1)                                "Study Time"                     : "Required matching key, present in response when requested."
(0x00080050,2C,SH,1)                                "Accession Number"               : "Required matching key, present in response when requested."
(0x00200010,2C,SH,1)                                "Study ID"                       : "Required matching key, present in response when requested."
(0x00080061,3C,CS,1:n)                              "Modalities in Study"            : "Only present in SCP response when requested."
(0x00080090,3C,PN,1)                                "Referring Physician's Name"     : "Only present in SCP response when requested."
(0x00081030,3C,LO,1)                                "Study Description"              : "Only present in SCP response when requested."
(0x00081032,3C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro Patient Root Q/R Information Model - FIND SOP Class SCP" : PRESENT 0x00081032
)                                                   "Procedure Code Sequence"        : "Only present in SCP response when requested."
(0x00081060,3C,PN,1:n)                              "Name of Physician(s) Reading Study" : "Only present in SCP response when requested."
(0x00081080,3C,LO,1:n)                              "Admitting Diagnoses Description" : "Only present in SCP response when requested."
(0x00081110,3C,SQ,1,
 >(0x00081150,1,UI,1)                               "Referenced SOP Class UID"
 >(0x00081155,1,UI,1)                               "Referenced SOP Instance UID"
)                                                   "Referenced Study Sequence"      : "Only present in SCP response when requested."
(0x00101010,3C,AS,1)                                "Patient's Age"                  : "Only present in SCP response when requested."
(0x00101020,3C,DS,1)                                "Patient's Size"                 : "Only present in SCP response when requested."
(0x00101030,3C,DS,1)                                "Patient's Weight"               : "Only present in SCP response when requested."
(0x00102180,3C,SH,1)                                "Occupation"                     : "Only present in SCP response when requested."
(0x001021B0,3C,LT,1)                                "Additional Patient History"     : "Only present in SCP response when requested."
(0x00201070,3C,IS,1:n)                              "Other Study Numbers"            : "Only present in SCP response when requested."
(0x00201206,3C,IS,1)                                "Number of Study Related Series" : "Only present in SCP response when requested."
(0x00201208,3C,IS,1)                                "Number of Study Related Instances" : "Only present in SCP response when requested."
(0x4008010C,3C,PN,1)                                "Interpretation Author"          : "Only present in SCP response when requested."
ENDDEFINE

DEFINE MACRO "Code Sequence Macro Patient Root Q/R Information Model - FIND SOP Class SCP"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficient to identify the Code Value (0008,0100) unambiguously."
ENDDEFINE

DEFINE MACRO "Q/R Image level Patient Root Q/R Information Model - FIND SOP Class SCP"
(0x00080018,1,UI,1)                                 "SOP Instance UID"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x0020000E,1,UI,1)                                 "Series Instance UID"
(0x00200013,2C,IS,1)                                "Instance Number"                : "Required matching key, present in response when requested."
(0x00200022,3C,IS,1)                                "Overlay Number"                 : "Only present in SCP response when requested."
(0x00200024,3C,IS,1)                                "Curve Number"                   : "Only present in SCP response when requested."
(0x00200026,3C,IS,1)                                "Lookup Table Number"            : "Only present in SCP response when requested."
(0x0040A043,3C,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro Patient Root Q/R Information Model - FIND SOP Class SCP"
)                                                   "Concept Name Code Sequence"     : "Only present in SCP response when requested."
(0x0040A504,3C,SQ,1,
 >INCLUDEMACRO                                      "Template Identification Macro Patient Root Q/R Information Model - FIND SOP Class SCP"
)                                                   "Content Template Sequence"      : "Only present in SCP response when requested."
ENDDEFINE

DEFINE MACRO "Template Identification Macro Patient Root Q/R Information Model - FIND SOP Class SCP"
(0x00080105,1,CS,1)                                 "Mapping Resource"
(0x0040DB00,1,CS,1)                                 "Template Identifier"
ENDDEFINE

DEFINE MACRO "Q/R Patient level Patient Root Q/R Information Model - FIND SOP Class SCP"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x00100010,2C,PN,1)                                "Patient's Name"                 : "Required matching key, present in response when requested."
(0x00100021,3,LO,1)                                 "Issuer of Patient ID"
(0x00081120,3C,SQ,1,
 >(0x00081150,1C,UI,1,E,"1.3.46.670589.17.2.42.7")  "Referenced SOP Class UID"       : PRESENT ../0x00081120
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081120
)                                                   "Referenced Patient Sequence"    : "Only present in SCP response when requested."
(0x00100030,3C,DA,1)                                "Patient's Birth Date"           : "Only present in SCP response when requested."
(0x00100032,3C,TM,1)                                "Patient's Birth Time"           : "Only present in SCP response when requested."
(0x00100040,3C,CS,1,E,"F"
                    | "M"
                    | "O")                          "Patient's Sex"                  : "Only present in SCP response when requested."
(0x00101000,3C,LO,1:n)                              "Other Patient IDs"              : "Only present in SCP response when requested."
(0x00101001,3C,PN,1:n)                              "Other Patient Names"            : "Only present in SCP response when requested."
(0x00102160,3C,SH,1)                                "Ethnic Group"                   : "Only present in SCP response when requested."
(0x00104000,3C,LT,1)                                "Patient Comments"               : "Only present in SCP response when requested."
(0x00201200,3C,IS,1)                                "Number of Patient Related Studies" : "Only present in SCP response when requested."
(0x00201202,3C,IS,1)                                "Number of Patient Related Series" : "Only present in SCP response when requested."
(0x00201204,3C,IS,1)                                "Number of Patient Related Instances" : "Only present in SCP response when requested."
ENDDEFINE

DEFINE MACRO "Q/R Series level Patient Root Q/R Information Model - FIND SOP Class SCU"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x0020000E,2,UI,1)                                 "Series Instance UID"
(0x00080060,3,CS,1)                                 "Modality"
(0x00200011,3,IS,1)                                 "Series Number"
(0x00201209,3,IS,1)                                 "Number of Series Related Instances"
ENDDEFINE

DEFINE MACRO "Q/R Study level (Patient Root) Patient Root Q/R Information Model - FIND SOP Class SCU"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x0020000D,2,UI,1)                                 "Study Instance UID"
(0x00080020,3,DA,1)                                 "Study Date"
(0x00080030,3,TM,1)                                 "Study Time"
(0x00080050,3,SH,1)                                 "Accession Number"
(0x00080061,3,CS,1:n)                               "Modalities in Study"
(0x00080090,3,PN,1)                                 "Referring Physician's Name"
(0x00081030,3,LO,1)                                 "Study Description"
(0x00081032,3,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro Patient Root Q/R Information Model - FIND SOP Class SCU"
)                                                   "Procedure Code Sequence"
(0x00081060,3,PN,1:n)                               "Name of Physician(s) Reading Study"
(0x00081080,3,LO,1:n)                               "Admitting Diagnoses Description"
(0x00081110,3,SQ,1,
 >(0x00081150,1,UI,1,E,"1.3.46.670589.17.2.42.7")   "Referenced SOP Class UID"
 >(0x00081155,1,UI,1)                               "Referenced SOP Instance UID"
)                                                   "Referenced Study Sequence"
(0x00101010,3,AS,1)                                 "Patient's Age"
(0x00101020,3,DS,1)                                 "Patient's Size"
(0x00101030,3,DS,1)                                 "Patient's Weight"
(0x00102180,3,SH,1)                                 "Occupation"
(0x001021B0,3,LT,1)                                 "Additional Patient History"
(0x00200010,3,SH,1)                                 "Study ID"
(0x00201070,3,IS,1:n)                               "Other Study Numbers"
(0x00201206,3,IS,1)                                 "Number of Study Related Series"
(0x00201208,3,IS,1)                                 "Number of Study Related Instances"
(0x4008010C,3,PN,1)                                 "Interpretation Author"
ENDDEFINE

DEFINE MACRO "Code Sequence Macro Patient Root Q/R Information Model - FIND SOP Class SCU"
(0x00080100,1,SH,1)                                 "Code Value"
(0x00080102,1,SH,1)                                 "Coding Scheme Designator"
(0x00080104,1,LO,1)                                 "Code Meaning"
(0x00080103,1C,SH,1)                                "Coding Scheme Version"          : "Required if the value of code Scheme Designator (0008,0102) is not sufficient to identify the Code Value (0008,0100) unambiguously."
ENDDEFINE

DEFINE MACRO "Q/R Image level Patient Root Q/R Information Model - FIND SOP Class SCU"
(0x00100020,1,LO,1)                                 "Patient ID"
(0x0020000D,1,UI,1)                                 "Study Instance UID"
(0x0020000E,1,UI,1)                                 "Series Instance UID"
(0x00080018,2,UI,1)                                 "SOP Instance UID"
(0x00200013,3,IS,1)                                 "Instance Number"
(0x00200022,3,IS,1)                                 "Overlay Number"
(0x00200024,3,IS,1)                                 "Curve Number"
(0x00200026,3,IS,1)                                 "Lookup Table Number"
(0x0040A043,3,SQ,1,
 >INCLUDEMACRO                                      "Code Sequence Macro Patient Root Q/R Information Model - FIND SOP Class SCU"
)                                                   "Concept Name Code Sequence"
(0x0040A504,3,SQ,1,
 >INCLUDEMACRO                                      "Template Identification Macro Patient Root Q/R Information Model - FIND SOP Class SCU"
)                                                   "Content Template Sequence"
ENDDEFINE

DEFINE MACRO "Template Identification Macro Patient Root Q/R Information Model - FIND SOP Class SCU"
(0x00080105,1,CS,1)                                 "Mapping Resource"
(0x0040DB00,1,CS,1)                                 "Template Identifier"
ENDDEFINE

DEFINE MACRO "Q/R Patient level Patient Root Q/R Information Model - FIND SOP Class SCU"
(0x00100020,2,LO,1)                                 "Patient ID"
(0x00081120,3,SQ,1,
 >(0x00081150,1C,UI,1,E,"1.3.46.670589.17.2.42.7")  "Referenced SOP Class UID"       : PRESENT ../0x00081120
 >(0x00081155,1C,UI,1)                              "Referenced SOP Instance UID"    : PRESENT ../0x00081120
)                                                   "Referenced Patient Sequence"
(0x00100010,3,PN,1)                                 "Patient's Name"
(0x00100021,3,LO,1)                                 "Issuer of Patient ID"
(0x00100030,3,DA,1)                                 "Patient's Birth Date"
(0x00100032,3,TM,1)                                 "Patient's Birth Time"
(0x00100040,3,CS,1,D,"F"
                   | "M"
                   | "O")                           "Patient's Sex"
(0x00101000,3,LO,1:n)                               "Other Patient IDs"
(0x00101001,3,PN,1:n)                               "Other Patient Names"
(0x00102160,3,SH,1)                                 "Ethnic Group"
(0x00104000,3,LT,1)                                 "Patient Comments"
(0x00201200,3,IS,1)                                 "Number of Patient Related Studies"
(0x00201202,3,IS,1)                                 "Number of Patient Related Series"
(0x00201204,3,IS,1)                                 "Number of Patient Related Instances"
ENDDEFINE

################################################################################
# COMMAND DEFINITIONS
################################################################################


DEFINE C-FIND-RQ
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000002,1,UI,1)                                 "Affected SOP Class UID"
(0x00000100,1,US,1,E,0x0020)                        "Command Field"
(0x00000110,1,US,1)                                 "Message ID"
(0x00000700,1,US,1,E,0x0000
                   | 0x0001
                   | 0x0002)                        "Priority"
(0x00000800,1,US,1)                                 "Data Set Type"
ENDDEFINE

DEFINE C-FIND-RSP
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000002,1,UI,1)                                 "Affected SOP Class UID"
(0x00000100,1,US,1,E,0x8020)                        "Command Field"
(0x00000120,1,US,1)                                 "Message ID Being Responded To"
(0x00000800,1,US,1)                                 "Data Set Type"
(0x00000900,1,US,1)                                 "Status"
(0x00000901,3,AT,1:n)                               "Offending Element"
(0x00000902,3,LO,1)                                 "Error Comment"
(0x00000903,3,US,1)                                 "Error ID"
(0x00001005,3,AT,1:n)                               "Attribute Identifier List"
ENDDEFINE

DEFINE C-CANCEL-RQ
(0x00000000,1,UL,1)                                 "Group 0000 Length"
(0x00000100,1,US,1,E,0x0FFF)                        "Command Field"
(0x00000120,1,US,1)                                 "Message ID Being Responded To"
(0x00000800,1,US,1,E,0x0101)                        "Data Set Type"
ENDDEFINE